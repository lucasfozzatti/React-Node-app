{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\fozza\\\\React-Node-app\\\\mern-crud-tasks-master\\\\frontend\\\\src\\\\context\\\\usuario-context.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useState, useEffect, useMemo, useHistory } from \"react\";\nimport Axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UsuarioContext = /*#__PURE__*/React.createContext();\nexport function UsuarioProvider(props) {\n  _s();\n\n  let history = useHistory();\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState(''); // const [id, setid] = useState(0);\n\n  const login = async e => {\n    await Axios.post('login', {\n      username: username,\n      password: password\n    }).then(response => {\n      if (!response.data.auth) {\n        return false;\n      } else {\n        localStorage.setItem(\"token\", response.data.token);\n        Axios.get(\"transactions/40\").then(() => {});\n        history.push(\"/transactions/\" + response.data.result);\n      }\n    });\n  };\n\n  const value = useMemo(() => {\n    return {\n      username,\n      password,\n      setUsername,\n      setPassword,\n      login\n    };\n  }, [username, password]);\n  return /*#__PURE__*/_jsxDEV(UsuarioContext.Provider, {\n    value: value,\n    ...props\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 12\n  }, this);\n}\n\n_s(UsuarioProvider, \"ojcMWPQH4niBw8wD9lXd+dsRX9c=\", false, function () {\n  return [useHistory];\n});\n\n_c = UsuarioProvider;\nexport function useUsuario() {\n  _s2();\n\n  const context = React.useContext(UsuarioContext);\n\n  if (!context) {\n    throw new Error('useUsuario na q ve');\n  }\n\n  return context;\n}\n\n_s2(useUsuario, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n\nvar _c;\n\n$RefreshReg$(_c, \"UsuarioProvider\");","map":{"version":3,"sources":["C:/Users/fozza/React-Node-app/mern-crud-tasks-master/frontend/src/context/usuario-context.js"],"names":["React","useState","useEffect","useMemo","useHistory","Axios","UsuarioContext","createContext","UsuarioProvider","props","history","username","setUsername","password","setPassword","login","e","post","then","response","data","auth","localStorage","setItem","token","get","push","result","value","useUsuario","context","useContext","Error"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,EAAoCC,OAApC,EAA6CC,UAA7C,QAA8D,OAA9D;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,cAAc,gBAAGN,KAAK,CAACO,aAAN,EAAvB;AAEA,OAAO,SAASC,eAAT,CAAyBC,KAAzB,EAA+B;AAAA;;AAClC,MAAIC,OAAO,GAAGN,UAAU,EAAxB;AAEA,QAAM,CAACO,QAAD,EAAWC,WAAX,IAA0BX,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACY,QAAD,EAAWC,WAAX,IAA0Bb,QAAQ,CAAC,EAAD,CAAxC,CAJkC,CAKlC;;AAGA,QAAMc,KAAK,GAAG,MAAMC,CAAN,IAAY;AAGtB,UAAMX,KAAK,CAACY,IAAN,CAAW,OAAX,EAAmB;AACrBN,MAAAA,QAAQ,EAAEA,QADW;AAErBE,MAAAA,QAAQ,EAAEA;AAFW,KAAnB,EAIHK,IAJG,CAIGC,QAAD,IAAc;AACpB,UAAI,CAACA,QAAQ,CAACC,IAAT,CAAcC,IAAnB,EAAyB;AACvB,eAAO,KAAP;AAED,OAHD,MAGO;AACLC,QAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BJ,QAAQ,CAACC,IAAT,CAAcI,KAA5C;AACAnB,QAAAA,KAAK,CAACoB,GAAN,CAAU,iBAAV,EAA6BP,IAA7B,CAAkC,MAAI,CACrC,CADD;AAEAR,QAAAA,OAAO,CAACgB,IAAR,CAAa,mBAAkBP,QAAQ,CAACC,IAAT,CAAcO,MAA7C;AAGD;AACF,KAhBK,CAAN;AAiBH,GApBD;;AAqBA,QAAMC,KAAK,GAAGzB,OAAO,CAAC,MAAM;AAExB,WAAQ;AACNQ,MAAAA,QADM;AAENE,MAAAA,QAFM;AAGND,MAAAA,WAHM;AAINE,MAAAA,WAJM;AAKNC,MAAAA;AALM,KAAR;AAQD,GAVkB,EAUhB,CAACJ,QAAD,EAAWE,QAAX,CAVgB,CAArB;AAaA,sBAAO,QAAC,cAAD,CAAgB,QAAhB;AAAyB,IAAA,KAAK,EAAEe,KAAhC;AAAA,OAA2CnB;AAA3C;AAAA;AAAA;AAAA;AAAA,UAAP;AAEH;;GA5CeD,e;UACEJ,U;;;KADFI,e;AA8ChB,OAAO,SAASqB,UAAT,GAAsB;AAAA;;AAC3B,QAAMC,OAAO,GAAG9B,KAAK,CAAC+B,UAAN,CAAiBzB,cAAjB,CAAhB;;AACA,MAAI,CAACwB,OAAL,EAAc;AACX,UAAM,IAAIE,KAAJ,CAAU,oBAAV,CAAN;AACF;;AACD,SAAOF,OAAP;AACD;;IANeD,U","sourcesContent":["import React,{ useState, useEffect, useMemo, useHistory} from \"react\";\r\nimport Axios from \"axios\";\r\n\r\nconst UsuarioContext = React.createContext();\r\n\r\nexport function UsuarioProvider(props){\r\n    let history = useHistory();\r\n    \r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    // const [id, setid] = useState(0);\r\n    \r\n    \r\n    const login = async(e) => {\r\n       \r\n    \r\n        await Axios.post('login',{\r\n            username: username,\r\n            password: password,\r\n\r\n        }).then((response) => {\r\n          if (!response.data.auth) {\r\n            return false\r\n            \r\n          } else {\r\n            localStorage.setItem(\"token\", response.data.token)\r\n            Axios.get(\"transactions/40\").then(()=>{\r\n            })\r\n            history.push(\"/transactions/\"+ response.data.result)\r\n           \r\n             \r\n          }\r\n        });\r\n    }\r\n    const value = useMemo(() => {\r\n        \r\n        return ({\r\n          username,\r\n          password,\r\n          setUsername,\r\n          setPassword,\r\n          login\r\n\r\n        })\r\n      }, [username, password])\r\n         \r\n    \r\n    return <UsuarioContext.Provider value={value} {...props} />\r\n\r\n}\r\n\r\nexport function useUsuario() {\r\n  const context = React.useContext(UsuarioContext);\r\n  if (!context) {\r\n     throw new Error('useUsuario na q ve')\r\n  }\r\n  return context;\r\n}"]},"metadata":{},"sourceType":"module"}